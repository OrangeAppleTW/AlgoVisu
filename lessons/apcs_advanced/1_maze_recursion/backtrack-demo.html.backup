<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å›æº¯æ©Ÿåˆ¶æ¼”ç¤º - è€é¼ èµ°è¿·å®®</title>
    <link rel="stylesheet" href="../styles.css">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        /* ç¹¼æ‰¿åŸºç¤æ¨£å¼ */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
        }

        h1 {
            color: #222;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2em;
        }

        .demo-section {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 30px;
            margin: 30px 0;
        }

        .maze-container {
            background-color: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }

        .backtrack-visualization {
            background-color: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
        }

        .maze-grid {
            display: inline-block;
            border: 2px solid #333;
            border-radius: 4px;
            background-color: white;
        }

        .maze-cell {
            width: 50px;
            height: 50px;
            border: 1px solid #ddd;
            display: inline-block;
            position: relative;
            vertical-align: top;
            transition: all 0.3s ease;
        }

        /* è¿·å®®å–®å…ƒæ ¼æ¨£å¼ */
        .cell-wall { background-color: #333; }
        .cell-path { background-color: white; }
        .cell-mouse { 
            background-color: #e3f2fd;
            position: relative;
        }
        .cell-mouse::after {
            content: "ğŸ­";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 25px;
        }
        .cell-goal { 
            background-color: #e8f5e8;
            position: relative;
        }
        .cell-goal::after {
            content: "ğŸ§€";
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 20px;
        }
        .cell-visited { background-color: #f3e5f5; }
        .cell-deadend { background-color: #ffebee; }
        .cell-backtrack { 
            background-color: #fff3e0;
            animation: backtrack-highlight 1s ease-in-out;
        }

        @keyframes backtrack-highlight {
            0%, 100% { background-color: #fff3e0; }
            50% { background-color: #ff9800; transform: scale(1.1); }
        }

        .controls {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 20px;
        }

        button {
            background-color: #222;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: background-color 0.3s;
        }

        button:hover:not(:disabled) {
            background-color: #000;
        }

        button:disabled {
            background-color: #999;
            cursor: not-allowed;
        }

        .backtrack-info {
            background-color: #f8f9fa;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }

        .backtrack-info h4 {
            margin: 0 0 10px 0;
            color: #222;
        }

        .step-counter {
            font-family: monospace;
            font-size: 16px;
            font-weight: bold;
            color: #e74c3c;
        }

        .decision-tree {
            background-color: white;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            max-height: 300px;
            overflow-y: auto;
        }

        .tree-node {
            padding: 8px;
            margin: 5px 0;
            border-radius: 3px;
            font-family: monospace;
            font-size: 12px;
            border-left: 3px solid #ddd;
        }

        .tree-node.current {
            background-color: #fff3e0;
            border-left-color: #ff9800;
        }

        .tree-node.success {
            background-color: #e8f5e8;
            border-left-color: #4caf50;
        }

        .tree-node.deadend {
            background-color: #ffebee;
            border-left-color: #f44336;
        }

        .explanation-box {
            background-color: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 20px;
            margin: 30px 0;
            border-radius: 0 5px 5px 0;
        }

        .explanation-box h3 {
            color: #1976d2;
            margin-top: 0;
        }

        @media (max-width: 768px) {
            .demo-section {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .maze-cell {
                width: 40px;
                height: 40px;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="navbar-container">
            <a href="../index.html" class="navbar-logo">
                <img src="../picture/OA_logo2.png" alt="OA Logo" class="logo-img">
            </a>
            <div class="navbar-links">
                <a href="../1_sorting/index.html" class="nav-link">æ’åºæ¼”ç®—æ³•</a>
                <a href="../2_2d_linked_list/index.html" class="nav-link">äºŒç¶­éˆè¡¨</a>
                <a href="../3_maze_recursion/index.html" class="nav-link">è€é¼ èµ°è¿·å®®</a>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <h1>ğŸ”„ å›æº¯æ©Ÿåˆ¶æ¼”ç¤º</h1>
        
        <div class="explanation-box">
            <h3>ğŸ¯ ä»€éº¼æ˜¯å›æº¯ï¼Ÿ</h3>
            <p>
                <strong>å›æº¯ï¼ˆBacktrackingï¼‰</strong>æ˜¯éè¿´ä¸­çš„é‡è¦æ¦‚å¿µã€‚ç•¶è€é¼ èµ°åˆ°æ­»è·¯æ™‚ï¼Œ
                å®ƒä¸æœƒæ”¾æ£„ï¼Œè€Œæ˜¯<strong>ã€Œè¿”å›ä¸Šä¸€å€‹æ±ºç­–é»ã€</strong>ï¼Œå˜—è©¦å…¶ä»–å¯èƒ½çš„è·¯ç·šã€‚
            </p>
            <p>
                é€™å°±åƒä½ åœ¨åšé¸æ“‡é¡Œæ™‚ï¼Œå¦‚æœç™¼ç¾æŸå€‹ç­”æ¡ˆä¸å°ï¼Œä½ æœƒå›åˆ°åŸé¡Œé‡æ–°æ€è€ƒå…¶ä»–é¸é …ã€‚
                åœ¨ç¨‹å¼è¨­è¨ˆä¸­ï¼Œé€™ç¨®ã€Œè©¦éŒ¯ä¸¦å›é€€ã€çš„ç­–ç•¥éå¸¸å¯¦ç”¨ï¼
            </p>
        </div>
        
        <div class="demo-section">
            <div class="maze-container">
                <div id="backtrack-maze" class="maze-grid"></div>
                
                <div style="margin-top: 20px; text-align: center;">
                    <div class="step-counter">
                        å›æº¯æ¬¡æ•¸ï¼š<span id="backtrack-counter">0</span>
                    </div>
                </div>
            </div>
            
            <div class="backtrack-visualization">
                <div class="controls">
                    <button id="start-demo">é–‹å§‹æ¼”ç¤º</button>
                    <button id="step-demo" disabled>å–®æ­¥å›æº¯</button>
                    <button id="reset-demo">é‡ç½®æ¼”ç¤º</button>
                </div>
                
                <div class="backtrack-info">
                    <h4>ğŸ“ ç•¶å‰ç‹€æ…‹</h4>
                    <p>ä½ç½®ï¼š<span id="current-position">(1, 1)</span></p>
                    <p>å‹•ä½œï¼š<span id="current-action">æº–å‚™é–‹å§‹</span></p>
                    <p>æ·±åº¦ï¼š<span id="current-depth">0</span></p>
                </div>
                
                <div class="decision-tree">
                    <h4>ğŸŒ³ æ±ºç­–æ¨¹</h4>
                    <div id="decision-nodes"></div>
                </div>
            </div>
        </div>
        
        <div style="margin-top: 30px; padding: 20px; background-color: #f8f9fa; border-radius: 8px;">
            <h3 style="color: #222; margin-bottom: 15px;">ğŸ” è§€å¯Ÿè¦é»</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div>
                    <h4 style="color: #e74c3c;">âŒ é‡åˆ°æ­»è·¯æ™‚</h4>
                    <ul style="color: #666; line-height: 1.6;">
                        <li>è€é¼ æœƒæ¨™è¨˜ç•¶å‰ä½ç½®ç‚ºã€Œæ­»è·¯ã€</li>
                        <li>è¿”å›åˆ°ä¸Šä¸€å€‹æœ‰å…¶ä»–é¸æ“‡çš„ä½ç½®</li>
                        <li>å˜—è©¦å…¶ä»–å°šæœªæ¢ç´¢çš„æ–¹å‘</li>
                    </ul>
                </div>
                <div>
                    <h4 style="color: #4caf50;">âœ… æˆåŠŸç­–ç•¥</h4>
                    <ul style="color: #666; line-height: 1.6;">
                        <li>ç³»çµ±æ€§åœ°æ¢ç´¢æ‰€æœ‰å¯èƒ½è·¯å¾‘</li>
                        <li>è¨˜ä½å·²ç¶“å˜—è©¦éçš„å¤±æ•—è·¯ç·š</li>
                        <li>åˆ©ç”¨éè¿´çš„ã€Œè¨˜æ†¶ã€ç‰¹æ€§é¿å…é‡è¤‡</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div style="margin-top: 20px; padding: 20px; background-color: #fff3e0; border-radius: 8px; border-left: 4px solid #ff9800;">
            <h3 style="color: #f57c00; margin-top: 0;">ğŸ’¡ ç¨‹å¼è¨­è¨ˆä¸­çš„å›æº¯æ‡‰ç”¨</h3>
            <p style="color: #555; line-height: 1.6;">å›æº¯æ³•å»£æ³›æ‡‰ç”¨æ–¼è¨±å¤šå•é¡Œï¼š</p>
            <ul style="color: #666; line-height: 1.6;">
                <li><strong>æ•¸ç¨æ±‚è§£ï¼š</strong>å˜—è©¦æ•¸å­—ï¼Œé‡åˆ°è¡çªå°±å›é€€é‡æ–°é¸æ“‡</li>
                <li><strong>å…«çš‡åå•é¡Œï¼š</strong>æ”¾ç½®æ£‹å­ï¼Œè¡çªæ™‚å›æº¯åˆ°å‰ä¸€æ­¥</li>
                <li><strong>è·¯å¾‘è¦åŠƒï¼š</strong>åœ¨åœ°åœ–ä¸­å°‹æ‰¾æœ€ä½³è·¯ç·š</li>
                <li><strong>çµ„åˆå„ªåŒ–ï¼š</strong>åœ¨å¤§é‡é¸æ“‡ä¸­æ‰¾åˆ°æœ€å„ªè§£</li>
            </ul>
        </div>
    </div>
    
    <script src="backtrack-logic.js"></script>
    <script src="backtrack-render.js"></script>
    <script src="../navbar.js"></script>
</body>
</html>