<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ·±å±¤è·¯å¾‘æ¸¬è©¦ - æ¼”ç®—æ³•è¦–è¦ºåŒ–</title>
    <link rel="stylesheet" href="../../../styles/styles.css">
    <style>
        body {
            margin: 0;
            padding: 80px 20px 20px 20px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #fafafa;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .test-section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background: #f9f9f9;
        }

        .test-result {
            font-family: monospace;
            background: #f0f0f0;
            padding: 10px;
            border-radius: 3px;
            margin: 10px 0;
            white-space: pre-wrap;
        }

        .success { color: #28a745; }
        .error { color: #dc3545; }
        .info { color: #007bff; }

        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }

        button:hover {
            background: #0056b3;
        }

        .breadcrumb {
            background: #e9ecef;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 20px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="breadcrumb">
            ğŸ“ AlgoVisu â†’ lessons â†’ apcs_advanced â†’ 1_maze_recursion â†’ deep-path-test.html
        </div>

        <h1>ğŸ”§ æ·±å±¤è·¯å¾‘æ¸¬è©¦ (Level 3)</h1>
        <p>é€™å€‹é é¢ä½æ–¼ <code>lessons/apcs_advanced/1_maze_recursion/</code> ç›®éŒ„ä¸­ï¼Œç”¨ä¾†æ¸¬è©¦æ·±å±¤ç›®éŒ„çš„è·¯å¾‘è§£ææ˜¯å¦æ­£ç¢ºã€‚</p>
        
        <div class="test-section">
            <h3>ğŸ“ ç•¶å‰é é¢è³‡è¨Š</h3>
            <div class="test-result" id="page-info"></div>
        </div>

        <div class="test-section">
            <h3>ğŸ”— å°è¦½åˆ—è¼‰å…¥ç‹€æ…‹</h3>
            <div class="test-result" id="navbar-status">ç­‰å¾…è¼‰å…¥...</div>
            <button onclick="checkNavbarStatus()">æª¢æŸ¥å°è¦½åˆ—</button>
        </div>

        <div class="test-section">
            <h3>ğŸ  è·¯å¾‘è¨ˆç®—çµæœ</h3>
            <div class="test-result" id="path-calculation"></div>
            <button onclick="testPathCalculation()">è¨ˆç®—è·¯å¾‘</button>
        </div>

        <div class="test-section">
            <h3>ğŸ–¼ï¸ è³‡æºè¼‰å…¥æ¸¬è©¦</h3>
            <div class="test-result" id="resource-test"></div>
            <button onclick="testResourcePaths()">æ¸¬è©¦è³‡æº</button>
        </div>

        <div class="test-section">
            <h3>ğŸ§ª æ‰‹å‹•è·¯å¾‘æ¸¬è©¦</h3>
            <div class="test-result" id="manual-test">
æœŸæœ›çš„æ ¹ç›®éŒ„è·¯å¾‘: ../../../
æœŸæœ›çš„ Logo è·¯å¾‘: ../../../picture/OA_logo2.png
æœŸæœ›çš„é¦–é è·¯å¾‘: ../../../index.html
            </div>
        </div>
    </div>

    <script src="../../../components/navbar-loader.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            displayPageInfo();
            setTimeout(() => {
                checkNavbarStatus();
                testPathCalculation();
            }, 1000);
        });

        function displayPageInfo() {
            const info = `ç•¶å‰ URL: ${window.location.href}
ç•¶å‰è·¯å¾‘: ${window.location.pathname}
ç•¶å‰ä¸»æ©Ÿ: ${window.location.host}
æ˜¯å¦ç‚º GitHub Pages: ${window.location.host.includes('github.io') ? 'æ˜¯' : 'å¦'}
ç›®éŒ„å±¤ç´š: Level 3 (3å±¤æ·±åº¦)`;
            
            document.getElementById('page-info').textContent = info;
        }

        function checkNavbarStatus() {
            const navbar = document.querySelector('.navbar');
            const status = document.getElementById('navbar-status');
            
            if (navbar) {
                const links = navbar.querySelectorAll('a');
                const logoImg = navbar.querySelector('.logo-img');
                
                let result = 'âœ… å°è¦½åˆ—è¼‰å…¥æˆåŠŸ\n';
                result += `åŒ…å« ${links.length} å€‹é€£çµ\n`;
                
                if (logoImg) {
                    result += `Logo åœ–ç‰‡æº: ${logoImg.src}\n`;
                    result += `åœ–ç‰‡è¼‰å…¥: ${logoImg.complete ? 'âœ… æˆåŠŸ' : 'âŒ å¤±æ•—'}\n`;
                    result += `åœ–ç‰‡å°ºå¯¸: ${logoImg.naturalWidth}x${logoImg.naturalHeight}`;
                } else {
                    result += 'âŒ Logo åœ–ç‰‡æœªæ‰¾åˆ°';
                }
                
                status.textContent = result;
                status.className = 'test-result success';
            } else {
                status.textContent = 'âŒ å°è¦½åˆ—è¼‰å…¥å¤±æ•—æˆ–å°šæœªè¼‰å…¥';
                status.className = 'test-result error';
            }
        }

        function testPathCalculation() {
            const result = document.getElementById('path-calculation');
            
            if (window.NavbarLoader) {
                const loader = new window.NavbarLoader();
                
                const info = `åŸºç¤è·¯å¾‘ (basePath): ${loader.basePath}
æ ¹ç›®éŒ„è·¯å¾‘ (rootPath): ${loader.rootPath}

è©³ç´°è¨ˆç®—éç¨‹:
- ç•¶å‰å®Œæ•´è·¯å¾‘: ${window.location.pathname}
- ç§»é™¤åŸºç¤è·¯å¾‘å¾Œ: ${window.location.pathname.replace(loader.basePath, '')}
- è¨ˆç®—å‡ºçš„ç›®éŒ„æ·±åº¦: ${loader.rootPath.split('../').length - 1}
- æœ€çµ‚ç›¸å°è·¯å¾‘: ${loader.rootPath}

é æœŸçµæœ: ../../../
å¯¦éš›çµæœ: ${loader.rootPath}
æ˜¯å¦ç¬¦åˆé æœŸ: ${loader.rootPath === '../../../' ? 'âœ… æ˜¯' : 'âŒ å¦'}`;
                
                result.textContent = info;
                result.className = loader.rootPath === '../../../' ? 'test-result success' : 'test-result error';
            } else {
                result.textContent = 'âŒ NavbarLoader æœªè¼‰å…¥';
                result.className = 'test-result error';
            }
        }

        function testResourcePaths() {
            const result = document.getElementById('resource-test');
            const navbar = document.querySelector('.navbar');
            
            if (navbar) {
                const logoImg = navbar.querySelector('.logo-img');
                const homeLink = navbar.querySelector('a[href*="index.html"]');
                
                let testInfo = 'è³‡æºè·¯å¾‘æ¸¬è©¦çµæœ:\n\n';
                
                if (logoImg) {
                    testInfo += `Logo åœ–ç‰‡:\n`;
                    testInfo += `  è·¯å¾‘: ${logoImg.src}\n`;
                    testInfo += `  ç‹€æ…‹: ${logoImg.complete ? 'âœ… è¼‰å…¥æˆåŠŸ' : 'âŒ è¼‰å…¥å¤±æ•—'}\n\n`;
                }
                
                if (homeLink) {
                    testInfo += `é¦–é é€£çµ:\n`;
                    testInfo += `  è·¯å¾‘: ${homeLink.href}\n`;
                    testInfo += `  HTML href: ${homeLink.getAttribute('href')}\n\n`;
                }
                
                const allLinks = navbar.querySelectorAll('a');
                testInfo += `å…¶ä»–é€£çµç¸½æ•¸: ${allLinks.length}\n`;
                
                Array.from(allLinks).slice(0, 3).forEach((link, index) => {
                    testInfo += `  ${index + 1}. ${link.textContent.trim()}: ${link.getAttribute('href')}\n`;
                });
                
                result.textContent = testInfo;
                result.className = 'test-result success';
            } else {
                result.textContent = 'âŒ ç„¡æ³•æ‰¾åˆ°å°è¦½åˆ—å…ƒç´ ';
                result.className = 'test-result error';
            }
        }
    </script>
</body>
</html>