<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>爬樓梯問題 - 動態規劃視覺化</title>
    <link rel="stylesheet" href="../../../styles/styles.css">
    <link rel="stylesheet" href="stair_climbing_styles.css">
</head>
<body>
    <div class="container">
        <h1>爬樓梯問題 - 動態規劃視覺化</h1>
        
        <!-- DP解題步驟說明 -->
        <div class="dp-steps-explanation">
            <h2>動態規劃三步驟</h2>
            <div class="steps-grid">
                <div class="step-card" id="step-1">
                    <h4>1. 狀態定義</h4>
                    <p><code>dp[i]</code> = 爬到第 i 階的方法數</p>
                </div>
                <div class="step-card" id="step-2">
                    <h4>2. 轉移公式</h4>
                    <p><code>dp[i] = dp[i-1] + dp[i-2]</code></p>
                    <p class="explanation">到第i階 = 從(i-1)階走1步 + 從(i-2)階走2步</p>
                </div>
                <div class="step-card" id="step-3">
                    <h4>3. 初始條件</h4>
                    <p><code>dp[1] = 1</code>, <code>dp[2] = 2</code></p>
                </div>
            </div>
        </div>

        <div class="controls-section">
            <div class="input-group">
                <label for="stair-count">樓梯階數 (n):</label>
                <input type="number" id="stair-count" min="1" max="15" value="5">
                <button id="start-animation">開始動畫</button>
                <button id="reset-animation">重置</button>
                <button id="step-by-step">逐步執行</button>
            </div>
            
            <div class="speed-control">
                <label for="animation-speed">動畫速度:</label>
                <input type="range" id="animation-speed" min="1" max="10" value="5">
                <span id="speed-display">5</span>
            </div>
        </div>

        <div class="visualization-container">
            <!-- 當前計算狀態顯示 -->
            <div class="current-calculation" id="current-calculation">
                <p>點擊「開始動畫」來觀察表格建立過程</p>
            </div>

            <!-- DP表格視覺化 -->
            <div class="dp-table-section">
                <h3>DP 表格建立過程</h3>
                <div class="dp-table-container">
                    <table class="dp-table" id="dp-table">
                        <thead>
                            <tr>
                                <th>階數 (i)</th>
                                <!-- 動態生成 -->
                            </tr>
                            <tr>
                                <th>dp[i]</th>
                                <!-- 動態生成 -->
                            </tr>
                        </thead>
                    </table>
                </div>
            </div>

            <!-- 計算過程詳解 -->
            <div class="calculation-process">
                <h3>計算過程詳解</h3>
                <div class="step-navigation">
                    <button id="prev-step" class="nav-btn" disabled>← 上一步</button>
                    <span class="step-info" id="step-info">步驟 0 / 0</span>
                    <button id="next-step" class="nav-btn" disabled>下一步 →</button>
                </div>
                <div class="current-step-detail" id="current-step-detail">
                    <p>點擊「開始動畫」或「逐步執行」來觀察計算過程</p>
                </div>
            </div>

            <!-- 樹狀圖視覺化 -->
            <div class="tree-visualization-section">
                <h3>狀態轉移樹</h3>
                <div class="tree-container" id="tree-container">
                    <!-- 由JavaScript動態生成樹狀圖 -->
                </div>
            </div>
        </div>

        <div class="key-insights">
            <h3>關鍵洞察</h3>
            <div class="insights-grid">
                <div class="insight-card">
                    <h4>💡 避免重複計算</h4>
                    <p>當計算 f(5) = f(4) + f(3) 時，如果 f(3) 已經在表格中，就直接取值，不需要重新計算。</p>
                </div>
                <div class="insight-card">
                    <h4>📊 表格填充順序</h4>
                    <p>從小到大依序計算，確保計算 dp[i] 時，dp[i-1] 和 dp[i-2] 已經完成。</p>
                </div>
                <div class="insight-card">
                    <h4>⚡ 效率提升</h4>
                    <p>時間複雜度從 O(2ⁿ) 降低到 O(n)，空間複雜度 O(n)。</p>
                </div>
            </div>
        </div>

        <div class="navigation">
            <a href="index.html" class="nav-button">← 回到課程首頁</a>
            <a href="recursion_vs_dp.html" class="nav-button">比較分析 →</a>
        </div>
    </div>

    <script src="stair_climbing_data.js"></script>
    <script src="stair_climbing_renderer.js"></script>
    <script src="stair_climbing_controller.js"></script>
    <script src="../../../components/navbar-loader.js"></script>
</body>
</html>