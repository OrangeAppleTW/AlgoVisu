<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ·±åº¦å„ªå…ˆæœå°‹ (DFS) - L6 åœ–å½¢æœå°‹æ–¹æ³•</title>
    <link rel="stylesheet" href="../../../styles/styles.css">
    <link rel="stylesheet" href="styles/graph-search.css">
</head>
<body>
    <div class="container">
        <h1>æ·±åº¦å„ªå…ˆæœå°‹ (DFS)</h1>
        <div class="lesson-info">
            å­¸ç¿’ä½¿ç”¨å †ç–Šï¼ˆStackï¼‰å¯¦ç¾çš„æ·±åº¦å„ªå…ˆæœå°‹æ¼”ç®—æ³•
        </div>

        <div class="section">
            <h2>ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ</h2>
            <div class="concept-explanation">
                <p>DFS ä½¿ç”¨ <strong>Stack (å †ç–Š)</strong> è³‡æ–™çµæ§‹ï¼ŒæŒ‰ç…§ LIFO (å¾Œé€²å…ˆå‡º) çš„åŸå‰‡æ·±å…¥æ¢ç´¢åœ–å½¢ã€‚</p>
                <ul>
                    <li><strong>ç‰¹é»ï¼š</strong>å…ˆæ·±å…¥æ¢ç´¢ä¸€æ¢è·¯å¾‘åˆ°åº•</li>
                    <li><strong>æ‡‰ç”¨ï¼š</strong>æ‹“æ’²æ’åºã€é€£é€šæ€§æª¢æ¸¬</li>
                    <li><strong>è³‡æ–™çµæ§‹ï¼š</strong>Stack (å †ç–Š) æˆ– éè¿´</li>
                    <li><strong>æ™‚é–“è¤‡é›œåº¦ï¼š</strong>O(V + E)ï¼Œå…¶ä¸­ V æ˜¯ç¯€é»æ•¸ï¼ŒE æ˜¯é‚Šæ•¸</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ” æ¼”ç®—æ³•è¦–è¦ºåŒ–</h2>
            
            <!-- DFS è¦–è¦ºåŒ–å€åŸŸ -->
            <div class="visualization-section">
                <div class="visualization-container">
                    <div class="graph-area">
                        <h4>åœ–å½¢çµæ§‹</h4>
                        <svg id="dfs-graph" class="graph-svg"></svg>
                    </div>
                    <div class="stack-area">
                        <h4>Stack (å †ç–Š) ç‹€æ…‹</h4>
                        <div id="dfs-stack" class="stack-container">
                            <div class="stack-label">Stack:</div>
                            <div class="stack-items"></div>
                            <div class="current-node-display">
                                <div class="current-node-label">ç•¶å‰å–å‡ºç¯€é»:</div>
                                <div id="dfs-current-node" class="current-node-item">ç„¡</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- æ§åˆ¶é¢æ¿ -->
            <div class="controls-section">
                <button class="btn" id="dfs-start">é–‹å§‹ DFS</button>
                <button class="btn btn-secondary" id="dfs-step">å–®æ­¥åŸ·è¡Œ</button>
                <button class="btn btn-secondary" id="dfs-reset">é‡ç½®</button>
            </div>

            <!-- é€Ÿåº¦æ§åˆ¶ -->
            <div class="speed-control">
                <label for="dfs-speed">åŸ·è¡Œé€Ÿåº¦ï¼š</label>
                <input type="range" id="dfs-speed" class="speed-slider" min="1" max="10" value="5">
                <span>å¿«</span>
            </div>

            <!-- ç‹€æ…‹é¡¯ç¤º -->
            <div class="status-display" id="dfs-status">
                é»æ“Šã€Œé–‹å§‹ DFSã€é–‹å§‹æœå°‹æ¼”ç®—æ³•æ¼”ç¤º
            </div>

            <!-- è¨ªå•é †åºé¡¯ç¤º -->
            <div class="visit-order">
                <h4>è¨ªå•é †åºï¼š</h4>
                <div id="dfs-visit-order" class="visit-sequence"></div>
            </div>

            <!-- åœ–ä¾‹èªªæ˜ -->
            <div class="legend-container">
                <div class="legend-item">
                    <div class="legend-color default"></div>
                    <span>æœªè¨ªå•</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color in-stack"></div>
                    <span>åœ¨å †ç–Šä¸­</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color current"></div>
                    <span>ç•¶å‰è™•ç†</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color visited"></div>
                    <span>å·²è¨ªå•</span>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ’» ç¨‹å¼ç¢¼å¯¦ä½œ</h2>
            
            <!-- DFS ç¨‹å¼ç¢¼ -->
            <div class="code-container">
                <div class="code-tabs">
                    <div class="code-tab active" data-code="dfs-python">Python</div>
                    <div class="code-tab" data-code="dfs-cpp">C++</div>
                    <div class="code-tab" data-code="dfs-pseudocode">è™›æ“¬ç¢¼</div>
                </div>
                
                <div id="dfs-python" class="code-view active">
def dfs(graph, start):
    visited = set()
    stack = [start]
    result = []
    
    while stack:
        node = stack.pop()  # å¾å¾Œç«¯å–å‡º
        
        if node not in visited:
            visited.add(node)
            result.append(node)
            
            # å°‡é„°æ¥ç¯€é»åŠ å…¥ stack (ååº)
            for neighbor in reversed(graph[node]):
                if neighbor not in visited:
                    stack.append(neighbor)
    
    return result</div>
                
                <div id="dfs-cpp" class="code-view">
#include &lt;stack&gt;
#include &lt;vector&gt;
#include &lt;unordered_set&gt;
using namespace std;

vector&lt;int&gt; dfs(vector&lt;vector&lt;int&gt;&gt;& graph, int start) {
    unordered_set&lt;int&gt; visited;
    stack&lt;int&gt; st;
    vector&lt;int&gt; result;
    
    st.push(start);
    
    while (!st.empty()) {
        int node = st.top();
        st.pop();
        
        if (visited.find(node) == visited.end()) {
            visited.insert(node);
            result.push_back(node);
            
            for (int neighbor : graph[node]) {
                if (visited.find(neighbor) == visited.end()) {
                    st.push(neighbor);
                }
            }
        }
    }
    
    return result;
}</div>
                
                <div id="dfs-pseudocode" class="code-view">
DFS(åœ–G, èµ·å§‹ç¯€é»s):
1. åˆå§‹åŒ–: visited = ç©ºé›†åˆ, stack = ç©ºå †ç–Š
2. å°‡èµ·å§‹ç¯€é»såŠ å…¥stack
3. WHILE stackä¸ç‚ºç©º:
4.     å¾stacké ‚ç«¯å–å‡ºç¯€é»u
5.     IF uæœªè¢«è¨ªå•é:
6.         æ¨™è¨˜uç‚ºå·²è¨ªå•
7.         è™•ç†ç¯€é»u
8.         FOR uçš„æ¯å€‹é„°æ¥ç¯€é»v (ååº):
9.             IF væœªè¢«è¨ªå•é:
10.                å°‡våŠ å…¥stacké ‚ç«¯
11. END</div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ¯ æ‡‰ç”¨å ´æ™¯</h2>
            <div class="application-card">
                <h3>DFS çš„ä¸»è¦æ‡‰ç”¨</h3>
                <ul>
                    <li><strong>æ‹“æ’²æ’åºï¼š</strong>æœ‰å‘ç„¡ç’°åœ–çš„æ’åº</li>
                    <li><strong>é€£é€šæ€§æª¢æ¸¬ï¼š</strong>æª¢æŸ¥åœ–çš„é€£é€šæ€§</li>
                    <li><strong>è·¯å¾‘æšèˆ‰ï¼š</strong>æ‰¾å‡ºæ‰€æœ‰å¯èƒ½è·¯å¾‘</li>
                    <li><strong>å›æº¯æ¼”ç®—æ³•ï¼š</strong>è§£æ±ºçµ„åˆå•é¡Œ</li>
                    <li><strong>å¼·é€£é€šåˆ†é‡ï¼š</strong>æ‰¾å‡ºå¼·é€£é€šå­åœ–</li>
                </ul>
            </div>
        </div>

        <div class="navigation">
            <a href="bfs.html" class="nav-button">â† å­¸ç¿’ BFS</a>
            <a href="comparison.html" class="nav-button">æ¯”è¼ƒèˆ‡æ‡‰ç”¨ â†’</a>
        </div>
    </div>

    <!-- JavaScript æª”æ¡ˆ -->
    <script src="../../../components/navbar-loader.js"></script>
    <script src="scripts/graph-structure.js"></script>
    <script src="scripts/renderers.js"></script>
    <script src="scripts/dfs-algorithm.js"></script>
    <script src="scripts/graph-search-ui-dfs.js"></script>
</body>
</html>