<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å»£åº¦å„ªå…ˆæœå°‹ (BFS) - L6 åœ–å½¢æœå°‹æ–¹æ³•</title>
    <link rel="stylesheet" href="../../../styles/styles.css">
    <link rel="stylesheet" href="styles/graph-search.css">
</head>
<body>
    <div class="container">
        <h1>å»£åº¦å„ªå…ˆæœå°‹ (BFS)</h1>
        <div class="lesson-info">
            å­¸ç¿’ä½¿ç”¨ä½‡åˆ—ï¼ˆQueueï¼‰å¯¦ç¾çš„å»£åº¦å„ªå…ˆæœå°‹æ¼”ç®—æ³•
        </div>

        <div class="section">
            <h2>ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ</h2>
            <div class="concept-explanation">
                <p>BFS ä½¿ç”¨ <strong>Queue (ä½‡åˆ—)</strong> è³‡æ–™çµæ§‹ï¼ŒæŒ‰ç…§ FIFO (å…ˆé€²å…ˆå‡º) çš„åŸå‰‡é€å±¤æ¢ç´¢åœ–å½¢ã€‚</p>
                <ul>
                    <li><strong>ç‰¹é»ï¼š</strong>å…ˆæ¢ç´¢è·é›¢èµ·é»è¼ƒè¿‘çš„ç¯€é»</li>
                    <li><strong>æ‡‰ç”¨ï¼š</strong>æœ€çŸ­è·¯å¾‘ã€å±¤æ¬¡éæ­·</li>
                    <li><strong>è³‡æ–™çµæ§‹ï¼š</strong>Queue (ä½‡åˆ—)</li>
                    <li><strong>æ™‚é–“è¤‡é›œåº¦ï¼š</strong>O(V + E)ï¼Œå…¶ä¸­ V æ˜¯ç¯€é»æ•¸ï¼ŒE æ˜¯é‚Šæ•¸</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ” æ¼”ç®—æ³•è¦–è¦ºåŒ–</h2>
            
            <!-- BFS è¦–è¦ºåŒ–å€åŸŸ -->
            <div class="visualization-section">
                <div class="visualization-container">
                    <div class="graph-area">
                        <h4>åœ–å½¢çµæ§‹</h4>
                        <svg id="bfs-graph" class="graph-svg"></svg>
                    </div>
                    <div class="queue-area">
                        <h4>Queue (ä½‡åˆ—) ç‹€æ…‹</h4>
                        <div id="bfs-queue" class="queue-container">
                            <div class="queue-label">Queue:</div>
                            <div class="queue-items"></div>
                            <div class="current-node-display">
                                <div class="current-node-label">ç•¶å‰å–å‡ºç¯€é»:</div>
                                <div id="bfs-current-node" class="current-node-item">ç„¡</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- æ§åˆ¶é¢æ¿ -->
            <div class="controls-section">
                <button class="btn" id="bfs-start">é–‹å§‹ BFS</button>
                <button class="btn btn-secondary" id="bfs-step">å–®æ­¥åŸ·è¡Œ</button>
                <button class="btn btn-secondary" id="bfs-reset">é‡ç½®</button>
            </div>

            <!-- é€Ÿåº¦æ§åˆ¶ -->
            <div class="speed-control">
                <label for="bfs-speed">åŸ·è¡Œé€Ÿåº¦ï¼š</label>
                <input type="range" id="bfs-speed" class="speed-slider" min="1" max="10" value="5">
                <span>å¿«</span>
            </div>

            <!-- ç‹€æ…‹é¡¯ç¤º -->
            <div class="status-display" id="bfs-status">
                é»æ“Šã€Œé–‹å§‹ BFSã€é–‹å§‹æœå°‹æ¼”ç®—æ³•æ¼”ç¤º
            </div>

            <!-- è¨ªå•é †åºé¡¯ç¤º -->
            <div class="visit-order">
                <h4>è¨ªå•é †åºï¼š</h4>
                <div id="bfs-visit-order" class="visit-sequence"></div>
            </div>

            <!-- åœ–ä¾‹èªªæ˜ -->
            <div class="legend-container">
                <div class="legend-item">
                    <div class="legend-color default"></div>
                    <span>æœªè¨ªå•</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color in-queue"></div>
                    <span>åœ¨ä½‡åˆ—ä¸­</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color current"></div>
                    <span>ç•¶å‰è™•ç†</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color visited"></div>
                    <span>å·²è¨ªå•</span>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ’» ç¨‹å¼ç¢¼å¯¦ä½œ</h2>
            
            <!-- ç¨‹å¼ç¢¼é¡¯ç¤º -->
            <div class="code-container">
                <div class="code-tabs">
                    <div class="code-tab active" data-code="python">Python</div>
                    <div class="code-tab" data-code="cpp">C++</div>
                    <div class="code-tab" data-code="pseudocode">è™›æ“¬ç¢¼</div>
                </div>
                
                <div id="python" class="code-view active">
<span class="keyword">def</span> <span class="function">bfs</span>(<span class="parameter">graph</span>, <span class="parameter">start</span>):
    <span class="variable">visited</span> <span class="operator">=</span> <span class="function">set</span>()
    <span class="variable">queue</span> <span class="operator">=</span> [<span class="parameter">start</span>]
    <span class="variable">result</span> <span class="operator">=</span> []
    
    <span class="keyword">while</span> <span class="variable">queue</span>:
        <span class="variable">node</span> <span class="operator">=</span> <span class="variable">queue</span>.<span class="function">pop</span>(<span class="number">0</span>)  <span class="comment"># å¾å‰ç«¯å–å‡º</span>
        
        <span class="keyword">if</span> <span class="variable">node</span> <span class="keyword">not in</span> <span class="variable">visited</span>:
            <span class="variable">visited</span>.<span class="function">add</span>(<span class="variable">node</span>)
            <span class="variable">result</span>.<span class="function">append</span>(<span class="variable">node</span>)
            
            <span class="comment"># å°‡é„°æ¥ç¯€é»åŠ å…¥ queue</span>
            <span class="keyword">for</span> <span class="parameter">neighbor</span> <span class="keyword">in</span> <span class="parameter">graph</span>[<span class="variable">node</span>]:
                <span class="keyword">if</span> <span class="parameter">neighbor</span> <span class="keyword">not in</span> <span class="variable">visited</span>:
                    <span class="variable">queue</span>.<span class="function">append</span>(<span class="parameter">neighbor</span>)
    
    <span class="keyword">return</span> <span class="variable">result</span></div>
                
                <div id="cpp" class="code-view">
<span class="preprocessor">#include</span> <span class="string">&lt;queue&gt;</span>
<span class="preprocessor">#include</span> <span class="string">&lt;vector&gt;</span>
<span class="preprocessor">#include</span> <span class="string">&lt;unordered_set&gt;</span>
<span class="keyword">using namespace</span> <span class="namespace">std</span>;

<span class="type">vector</span>&lt;<span class="type">int</span>&gt; <span class="function">bfs</span>(<span class="type">vector</span>&lt;<span class="type">vector</span>&lt;<span class="type">int</span>&gt;&gt;&amp; <span class="parameter">graph</span>, <span class="type">int</span> <span class="parameter">start</span>) {
    <span class="type">unordered_set</span>&lt;<span class="type">int</span>&gt; <span class="variable">visited</span>;
    <span class="type">queue</span>&lt;<span class="type">int</span>&gt; <span class="variable">q</span>;
    <span class="type">vector</span>&lt;<span class="type">int</span>&gt; <span class="variable">result</span>;
    
    <span class="variable">q</span>.<span class="function">push</span>(<span class="parameter">start</span>);
    
    <span class="keyword">while</span> (!<span class="variable">q</span>.<span class="function">empty</span>()) {
        <span class="type">int</span> <span class="variable">node</span> = <span class="variable">q</span>.<span class="function">front</span>();
        <span class="variable">q</span>.<span class="function">pop</span>();
        
        <span class="keyword">if</span> (<span class="variable">visited</span>.<span class="function">find</span>(<span class="variable">node</span>) <span class="operator">==</span> <span class="variable">visited</span>.<span class="function">end</span>()) {
            <span class="variable">visited</span>.<span class="function">insert</span>(<span class="variable">node</span>);
            <span class="variable">result</span>.<span class="function">push_back</span>(<span class="variable">node</span>);
            
            <span class="keyword">for</span> (<span class="type">int</span> <span class="parameter">neighbor</span> : <span class="parameter">graph</span>[<span class="variable">node</span>]) {
                <span class="keyword">if</span> (<span class="variable">visited</span>.<span class="function">find</span>(<span class="parameter">neighbor</span>) <span class="operator">==</span> <span class="variable">visited</span>.<span class="function">end</span>()) {
                    <span class="variable">q</span>.<span class="function">push</span>(<span class="parameter">neighbor</span>);
                }
            }
        }
    }
    
    <span class="keyword">return</span> <span class="variable">result</span>;
}</div>
                
                <div id="pseudocode" class="code-view">
BFS(åœ–G, èµ·å§‹ç¯€é»s):
1. åˆå§‹åŒ–: visited = ç©ºé›†åˆ, queue = ç©ºä½‡åˆ—
2. å°‡èµ·å§‹ç¯€é»såŠ å…¥queue
3. WHILE queueä¸ç‚ºç©º:
4.     å¾queueå‰ç«¯å–å‡ºç¯€é»u
5.     IF uæœªè¢«è¨ªå•é:
6.         æ¨™è¨˜uç‚ºå·²è¨ªå•
7.         è™•ç†ç¯€é»u
8.         FOR uçš„æ¯å€‹é„°æ¥ç¯€é»v:
9.             IF væœªè¢«è¨ªå•é:
10.                å°‡våŠ å…¥queueå¾Œç«¯
11. END</div>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ¯ æ‡‰ç”¨å ´æ™¯</h2>
            <div class="application-card">
                <h3>BFS çš„ä¸»è¦æ‡‰ç”¨</h3>
                <ul>
                    <li><strong>æœ€çŸ­è·¯å¾‘ï¼š</strong>åœ¨ç„¡æ¬Šé‡åœ–ä¸­æ‰¾æœ€çŸ­è·¯å¾‘</li>
                    <li><strong>å±¤æ¬¡éæ­·ï¼š</strong>æ¨¹çš„å±¤æ¬¡éæ­·</li>
                    <li><strong>ç¤¾äº¤ç¶²è·¯ï¼š</strong>æ‰¾å‡ºæœ‹å‹é—œä¿‚çš„å±¤ç´š</li>
                    <li><strong>ç¶²é çˆ¬èŸ²ï¼š</strong>æŒ‰æ·±åº¦å±¤ç´šçˆ¬å–ç¶²é </li>
                    <li><strong>è¿·å®®å•é¡Œï¼š</strong>æ‰¾å‡ºæœ€çŸ­å‡ºå£è·¯å¾‘</li>
                </ul>
            </div>
        </div>

        <div class="navigation">
            <a href="index.html" class="nav-button">â† å›åˆ°èª²ç¨‹ç›®éŒ„</a>
            <a href="dfs.html" class="nav-button">å­¸ç¿’ DFS â†’</a>
        </div>
    </div>

    <!-- JavaScript æª”æ¡ˆ -->
    <script src="../../../components/navbar-loader.js"></script>
    <script src="scripts/bfs-graph-structure.js"></script>
    <script src="scripts/renderers.js"></script>
    <script src="scripts/bfs-algorithm.js"></script>
    <script src="scripts/graph-search-ui-bfs.js"></script>
</body>
</html>