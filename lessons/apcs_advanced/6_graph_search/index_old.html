<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L6: åœ–å½¢æœå°‹æ–¹æ³• - BFS èˆ‡ DFS</title>
    <link rel="stylesheet" href="../../../styles/styles.css">
    <link rel="stylesheet" href="styles/graph-search.css">
</head>
<body>
    <!-- å°è¦½åˆ—å°‡ç”± JavaScript å‹•æ…‹è¼‰å…¥ -->
    
    <div class="container">
        <h1>ğŸ” L6: åœ–å½¢æœå°‹æ–¹æ³•</h1>
        <p style="text-align: center; color: #666; margin-bottom: 30px;">
            å­¸ç¿’å»£åº¦å„ªå…ˆæœå°‹ (BFS) å’Œæ·±åº¦å„ªå…ˆæœå°‹ (DFS) çš„åŸºæœ¬æ¦‚å¿µèˆ‡æ‡‰ç”¨
        </p>

        <!-- åˆ†é å°èˆª -->
        <div class="tabs">
            <div class="tab active" data-tab="bfs">å»£åº¦å„ªå…ˆæœå°‹ (BFS)</div>
            <div class="tab" data-tab="dfs">æ·±åº¦å„ªå…ˆæœå°‹ (DFS)</div>
            <div class="tab" data-tab="comparison">æ¯”è¼ƒèˆ‡æ‡‰ç”¨</div>
        </div>

        <!-- BFS é é¢ -->
        <div id="bfs" class="tab-content active">
            <div class="algorithm-container">
                <h2>å»£åº¦å„ªå…ˆæœå°‹ (Breadth-First Search)</h2>
                
                <div class="concept-explanation">
                    <h3>ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ</h3>
                    <p>BFS ä½¿ç”¨ <strong>Queue (ä½‡åˆ—)</strong> è³‡æ–™çµæ§‹ï¼ŒæŒ‰ç…§ FIFO (å…ˆé€²å…ˆå‡º) çš„åŸå‰‡é€å±¤æ¢ç´¢åœ–å½¢ã€‚</p>
                    <ul>
                        <li><strong>ç‰¹é»ï¼š</strong>å…ˆæ¢ç´¢è·é›¢èµ·é»è¼ƒè¿‘çš„ç¯€é»</li>
                        <li><strong>æ‡‰ç”¨ï¼š</strong>æœ€çŸ­è·¯å¾‘ã€å±¤æ¬¡éæ­·</li>
                        <li><strong>è³‡æ–™çµæ§‹ï¼š</strong>Queue (ä½‡åˆ—)</li>
                    </ul>
                </div>

                <!-- BFS è¦–è¦ºåŒ–å€åŸŸ -->
                <div class="visualization-section">
                    <div class="visualization-container">
                        <div class="graph-area">
                            <h4>åœ–å½¢çµæ§‹</h4>
                            <svg id="bfs-graph" class="graph-svg"></svg>
                        </div>
                        <div class="queue-area">
                            <h4>Queue (ä½‡åˆ—) ç‹€æ…‹</h4>
                            <div id="bfs-queue" class="queue-container">
                                <div class="queue-label">Queue:</div>
                                <div class="queue-items"></div>
                                <div class="current-node-display">
                                    <div class="current-node-label">ç•¶å‰å–å‡ºç¯€é»:</div>
                                    <div id="bfs-current-node" class="current-node-item">ç„¡</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- æ§åˆ¶é¢æ¿ -->
                <div class="controls-section">
                    <button class="btn" id="bfs-start">é–‹å§‹ BFS</button>
                    <button class="btn btn-secondary" id="bfs-step">å–®æ­¥åŸ·è¡Œ</button>
                    <button class="btn btn-secondary" id="bfs-reset">é‡ç½®</button>
                    <button class="btn btn-secondary" id="bfs-random">éš¨æ©Ÿåœ–å½¢</button>
                </div>

                <!-- é€Ÿåº¦æ§åˆ¶ -->
                <div class="speed-control">
                    <label for="bfs-speed">åŸ·è¡Œé€Ÿåº¦ï¼š</label>
                    <input type="range" id="bfs-speed" class="speed-slider" min="1" max="10" value="5">
                    <span>å¿«</span>
                </div>

                <!-- ç‹€æ…‹é¡¯ç¤º -->
                <div class="status-display" id="bfs-status">
                    é»æ“Šã€Œé–‹å§‹ BFSã€é–‹å§‹æœå°‹æ¼”ç®—æ³•æ¼”ç¤º
                </div>

                <!-- è¨ªå•é †åºé¡¯ç¤º -->
                <div class="visit-order">
                    <h4>è¨ªå•é †åºï¼š</h4>
                    <div id="bfs-visit-order" class="visit-sequence"></div>
                </div>

                <!-- åœ–ä¾‹èªªæ˜ -->
                <div class="legend-container">
                    <div class="legend-item">
                        <div class="legend-color default"></div>
                        <span>æœªè¨ªå•</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color in-queue"></div>
                        <span>åœ¨ä½‡åˆ—ä¸­</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color current"></div>
                        <span>ç•¶å‰è™•ç†</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color visited"></div>
                        <span>å·²è¨ªå•</span>
                    </div>
                </div>

                <!-- ç¨‹å¼ç¢¼é¡¯ç¤º -->
                <div class="code-container">
                    <div class="code-tabs">
                        <div class="code-tab active" data-code="python">Python</div>
                        <div class="code-tab" data-code="cpp">C++</div>
                        <div class="code-tab" data-code="pseudocode">è™›æ“¬ç¢¼</div>
                    </div>
                    
                    <div id="python" class="code-view active">
def bfs(graph, start):
    visited = set()
    queue = [start]
    result = []
    
    while queue:
        node = queue.pop(0)  # å¾å‰ç«¯å–å‡º
        
        if node not in visited:
            visited.add(node)
            result.append(node)
            
            # å°‡é„°æ¥ç¯€é»åŠ å…¥ queue
            for neighbor in graph[node]:
                if neighbor not in visited:
                    queue.append(neighbor)
    
    return result</div>
                    
                    <div id="cpp" class="code-view">
#include &lt;queue&gt;
#include &lt;vector&gt;
#include &lt;unordered_set&gt;
using namespace std;

vector&lt;int&gt; bfs(vector&lt;vector&lt;int&gt;&gt;& graph, int start) {
    unordered_set&lt;int&gt; visited;
    queue&lt;int&gt; q;
    vector&lt;int&gt; result;
    
    q.push(start);
    
    while (!q.empty()) {
        int node = q.front();
        q.pop();
        
        if (visited.find(node) == visited.end()) {
            visited.insert(node);
            result.push_back(node);
            
            for (int neighbor : graph[node]) {
                if (visited.find(neighbor) == visited.end()) {
                    q.push(neighbor);
                }
            }
        }
    }
    
    return result;
}</div>
                    
                    <div id="pseudocode" class="code-view">
BFS(åœ–G, èµ·å§‹ç¯€é»s):
1. åˆå§‹åŒ–: visited = ç©ºé›†åˆ, queue = ç©ºä½‡åˆ—
2. å°‡èµ·å§‹ç¯€é»såŠ å…¥queue
3. WHILE queueä¸ç‚ºç©º:
4.     å¾queueå‰ç«¯å–å‡ºç¯€é»u
5.     IF uæœªè¢«è¨ªå•é:
6.         æ¨™è¨˜uç‚ºå·²è¨ªå•
7.         è™•ç†ç¯€é»u
8.         FOR uçš„æ¯å€‹é„°æ¥ç¯€é»v:
9.             IF væœªè¢«è¨ªå•é:
10.                å°‡våŠ å…¥queueå¾Œç«¯
11. END</div>
                </div>
            </div>
        </div>

        <!-- DFS é é¢ -->
        <div id="dfs" class="tab-content">
            <div class="algorithm-container">
                <h2>æ·±åº¦å„ªå…ˆæœå°‹ (Depth-First Search)</h2>
                
                <div class="concept-explanation">
                    <h3>ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ</h3>
                    <p>DFS ä½¿ç”¨ <strong>Stack (å †ç–Š)</strong> è³‡æ–™çµæ§‹ï¼ŒæŒ‰ç…§ LIFO (å¾Œé€²å…ˆå‡º) çš„åŸå‰‡æ·±å…¥æ¢ç´¢åœ–å½¢ã€‚</p>
                    <ul>
                        <li><strong>ç‰¹é»ï¼š</strong>å…ˆæ·±å…¥æ¢ç´¢ä¸€æ¢è·¯å¾‘åˆ°åº•</li>
                        <li><strong>æ‡‰ç”¨ï¼š</strong>æ‹“æ’²æ’åºã€é€£é€šæ€§æª¢æ¸¬</li>
                        <li><strong>è³‡æ–™çµæ§‹ï¼š</strong>Stack (å †ç–Š) æˆ– éè¿´</li>
                    </ul>
                </div>

                <!-- DFS è¦–è¦ºåŒ–å€åŸŸ -->
                <div class="visualization-section">
                    <div class="visualization-container">
                        <div class="graph-area">
                            <h4>åœ–å½¢çµæ§‹</h4>
                            <svg id="dfs-graph" class="graph-svg"></svg>
                        </div>
                        <div class="stack-area">
                            <h4>Stack (å †ç–Š) ç‹€æ…‹</h4>
                            <div id="dfs-stack" class="stack-container">
                                <div class="stack-label">Stack:</div>
                                <div class="stack-items"></div>
                                <div class="current-node-display">
                                    <div class="current-node-label">ç•¶å‰å–å‡ºç¯€é»:</div>
                                    <div id="dfs-current-node" class="current-node-item">ç„¡</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- æ§åˆ¶é¢æ¿ -->
                <div class="controls-section">
                    <button class="btn" id="dfs-start">é–‹å§‹ DFS</button>
                    <button class="btn btn-secondary" id="dfs-step">å–®æ­¥åŸ·è¡Œ</button>
                    <button class="btn btn-secondary" id="dfs-reset">é‡ç½®</button>
                    <button class="btn btn-secondary" id="dfs-random">éš¨æ©Ÿåœ–å½¢</button>
                </div>

                <!-- é€Ÿåº¦æ§åˆ¶ -->
                <div class="speed-control">
                    <label for="dfs-speed">åŸ·è¡Œé€Ÿåº¦ï¼š</label>
                    <input type="range" id="dfs-speed" class="speed-slider" min="1" max="10" value="5">
                    <span>å¿«</span>
                </div>

                <!-- ç‹€æ…‹é¡¯ç¤º -->
                <div class="status-display" id="dfs-status">
                    é»æ“Šã€Œé–‹å§‹ DFSã€é–‹å§‹æœå°‹æ¼”ç®—æ³•æ¼”ç¤º
                </div>

                <!-- è¨ªå•é †åºé¡¯ç¤º -->
                <div class="visit-order">
                    <h4>è¨ªå•é †åºï¼š</h4>
                    <div id="dfs-visit-order" class="visit-sequence"></div>
                </div>

                <!-- åœ–ä¾‹èªªæ˜ -->
                <div class="legend-container">
                    <div class="legend-item">
                        <div class="legend-color default"></div>
                        <span>æœªè¨ªå•</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color in-stack"></div>
                        <span>åœ¨å †ç–Šä¸­</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color current"></div>
                        <span>ç•¶å‰è™•ç†</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color visited"></div>
                        <span>å·²è¨ªå•</span>
                    </div>
                </div>

                <!-- DFS ç¨‹å¼ç¢¼ -->
                <div class="code-container">
                    <div class="code-tabs">
                        <div class="code-tab active" data-code="dfs-python">Python</div>
                        <div class="code-tab" data-code="dfs-cpp">C++</div>
                        <div class="code-tab" data-code="dfs-pseudocode">è™›æ“¬ç¢¼</div>
                    </div>
                    
                    <div id="dfs-python" class="code-view active">
def dfs(graph, start):
    visited = set()
    stack = [start]
    result = []
    
    while stack:
        node = stack.pop()  # å¾å¾Œç«¯å–å‡º
        
        if node not in visited:
            visited.add(node)
            result.append(node)
            
            # å°‡é„°æ¥ç¯€é»åŠ å…¥ stack (ååº)
            for neighbor in reversed(graph[node]):
                if neighbor not in visited:
                    stack.append(neighbor)
    
    return result</div>
                    
                    <div id="dfs-cpp" class="code-view">
#include &lt;stack&gt;
#include &lt;vector&gt;
#include &lt;unordered_set&gt;
using namespace std;

vector&lt;int&gt; dfs(vector&lt;vector&lt;int&gt;&gt;& graph, int start) {
    unordered_set&lt;int&gt; visited;
    stack&lt;int&gt; st;
    vector&lt;int&gt; result;
    
    st.push(start);
    
    while (!st.empty()) {
        int node = st.top();
        st.pop();
        
        if (visited.find(node) == visited.end()) {
            visited.insert(node);
            result.push_back(node);
            
            for (int neighbor : graph[node]) {
                if (visited.find(neighbor) == visited.end()) {
                    st.push(neighbor);
                }
            }
        }
    }
    
    return result;
}</div>
                    
                    <div id="dfs-pseudocode" class="code-view">
DFS(åœ–G, èµ·å§‹ç¯€é»s):
1. åˆå§‹åŒ–: visited = ç©ºé›†åˆ, stack = ç©ºå †ç–Š
2. å°‡èµ·å§‹ç¯€é»såŠ å…¥stack
3. WHILE stackä¸ç‚ºç©º:
4.     å¾stacké ‚ç«¯å–å‡ºç¯€é»u
5.     IF uæœªè¢«è¨ªå•é:
6.         æ¨™è¨˜uç‚ºå·²è¨ªå•
7.         è™•ç†ç¯€é»u
8.         FOR uçš„æ¯å€‹é„°æ¥ç¯€é»v (ååº):
9.             IF væœªè¢«è¨ªå•é:
10.                å°‡våŠ å…¥stacké ‚ç«¯
11. END</div>
                </div>
            </div>
        </div>

        <!-- æ¯”è¼ƒé é¢ -->
        <div id="comparison" class="tab-content">
            <div class="algorithm-container">
                <h2>BFS vs DFS æ¯”è¼ƒèˆ‡æ‡‰ç”¨</h2>
                
                <div class="comparison-table">
                    <table class="dp-table">
                        <thead>
                            <tr>
                                <th>ç‰¹æ€§</th>
                                <th>BFS (å»£åº¦å„ªå…ˆ)</th>
                                <th>DFS (æ·±åº¦å„ªå…ˆ)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>è³‡æ–™çµæ§‹</strong></td>
                                <td>Queue (ä½‡åˆ—)</td>
                                <td>Stack (å †ç–Š) æˆ–éè¿´</td>
                            </tr>
                            <tr>
                                <td><strong>æœå°‹ç­–ç•¥</strong></td>
                                <td>å±¤å±¤æœå°‹ï¼Œå…ˆæ·ºå¾Œæ·±</td>
                                <td>æ·±å…¥æœå°‹ï¼Œå…ˆæ·±å¾Œæ·º</td>
                            </tr>
                            <tr>
                                <td><strong>æ™‚é–“è¤‡é›œåº¦</strong></td>
                                <td>O(V + E)</td>
                                <td>O(V + E)</td>
                            </tr>
                            <tr>
                                <td><strong>ç©ºé–“è¤‡é›œåº¦</strong></td>
                                <td>O(V)</td>
                                <td>O(V)</td>
                            </tr>
                            <tr>
                                <td><strong>æœ€çŸ­è·¯å¾‘</strong></td>
                                <td>âœ… é©åˆç„¡æ¬Šé‡åœ–</td>
                                <td>âŒ ä¸ä¿è­‰æœ€çŸ­</td>
                            </tr>
                            <tr>
                                <td><strong>è¨˜æ†¶é«”ä½¿ç”¨</strong></td>
                                <td>è¼ƒé«˜ (å»£åº¦æœå°‹)</td>
                                <td>è¼ƒä½ (æ·±åº¦æœå°‹)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="applications-section">
                    <div class="application-card">
                        <h3>ğŸ¯ BFS æ‡‰ç”¨å ´æ™¯</h3>
                        <ul>
                            <li><strong>æœ€çŸ­è·¯å¾‘ï¼š</strong>åœ¨ç„¡æ¬Šé‡åœ–ä¸­æ‰¾æœ€çŸ­è·¯å¾‘</li>
                            <li><strong>å±¤æ¬¡éæ­·ï¼š</strong>æ¨¹çš„å±¤æ¬¡éæ­·</li>
                            <li><strong>ç¤¾äº¤ç¶²è·¯ï¼š</strong>æ‰¾å‡ºæœ‹å‹é—œä¿‚çš„å±¤ç´š</li>
                            <li><strong>ç¶²é çˆ¬èŸ²ï¼š</strong>æŒ‰æ·±åº¦å±¤ç´šçˆ¬å–ç¶²é </li>
                            <li><strong>è¿·å®®å•é¡Œï¼š</strong>æ‰¾å‡ºæœ€çŸ­å‡ºå£è·¯å¾‘</li>
                        </ul>
                    </div>

                    <div class="application-card">
                        <h3>ğŸ¯ DFS æ‡‰ç”¨å ´æ™¯</h3>
                        <ul>
                            <li><strong>æ‹“æ’²æ’åºï¼š</strong>æœ‰å‘ç„¡ç’°åœ–çš„æ’åº</li>
                            <li><strong>é€£é€šæ€§æª¢æ¸¬ï¼š</strong>æª¢æŸ¥åœ–çš„é€£é€šæ€§</li>
                            <li><strong>è·¯å¾‘æšèˆ‰ï¼š</strong>æ‰¾å‡ºæ‰€æœ‰å¯èƒ½è·¯å¾‘</li>
                            <li><strong>å›æº¯æ¼”ç®—æ³•ï¼š</strong>è§£æ±ºçµ„åˆå•é¡Œ</li>
                            <li><strong>å¼·é€£é€šåˆ†é‡ï¼š</strong>æ‰¾å‡ºå¼·é€£é€šå­åœ–</li>
                        </ul>
                    </div>
                </div>

                <div class="practice-section">
                    <h3>ğŸ“ ç·´ç¿’é¡Œç›®</h3>
                    <div class="practice-card">
                        <h4>åŸºç¤é¡Œï¼šåœ–å½¢éæ­·</h4>
                        <p>çµ¦å®šä¸€å€‹ç„¡å‘åœ–ï¼Œå¯¦ä½œBFSå’ŒDFSæ¼”ç®—æ³•ï¼Œä¸¦æ¯”è¼ƒå®ƒå€‘çš„éæ­·é †åºå·®ç•°ã€‚</p>
                    </div>
                    <div class="practice-card">
                        <h4>é€²éšé¡Œï¼šæœ€çŸ­è·¯å¾‘</h4>
                        <p>ä½¿ç”¨BFSåœ¨ç¶²æ ¼åœ°åœ–ä¸­æ‰¾å‡ºå¾èµ·é»åˆ°çµ‚é»çš„æœ€çŸ­è·¯å¾‘ï¼Œè€ƒæ…®éšœç¤™ç‰©çš„å½±éŸ¿ã€‚</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- å°èˆªå€åŸŸ -->
        <div class="navigation">
            <a href="../5_binary_tree/index.html" class="nav-button">â† L5: äºŒå…ƒæ¨¹èˆ‡æ¨¹èµ°è¨ª</a>
            <a href="../index.html" class="nav-button">å›åˆ°èª²ç¨‹åˆ—è¡¨</a>
            <a href="#" class="nav-button">L7: è²ªå¿ƒæ¼”ç®—æ³• â†’</a>
        </div>
    </div>

    <!-- JavaScript æª”æ¡ˆ -->
    <script src="../../../components/navbar-loader.js"></script>
    <script src="scripts/graph-structure.js"></script>
    <script src="scripts/renderers.js"></script>
    <script src="scripts/bfs-algorithm.js"></script>
    <script src="scripts/dfs-algorithm.js"></script>
    <script src="scripts/graph-search-ui.js"></script>
</body>
</html>